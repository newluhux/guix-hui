From 69c4c836da917c2339f37cb7cd0c7b30a2a2a343 Mon Sep 17 00:00:00 2001
From: Lu Hui <luhux76@gmail.com>
Date: Sun, 30 Apr 2023 22:18:24 +0800
Subject: [PATCH 1/2] gnu: ftxui: Update to 4.0.0

* gnu/packages/cpp.scm (ftxui): Update to 4.0.0
---
 gnu/packages/cpp.scm | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

diff --git a/gnu/packages/cpp.scm b/gnu/packages/cpp.scm
index 023d1c0337..b30c1fb76f 100644
--- a/gnu/packages/cpp.scm
+++ b/gnu/packages/cpp.scm
@@ -34,6 +34,7 @@
 ;;; Copyright © 2022 Maxim Cournoyer <maxim.cournoyer@gmail.com>
 ;;; Copyright © 2023 Sughosha <Sughosha@proton.me>
 ;;; Copyright © 2023 Artyom V. Poptsov <poptsov.artyom@gmail.com>
+;;; Copyright © 2023 Lu Hui <luhux76@gmail.com>
 ;;;
 ;;; This file is part of GNU Guix.
 ;;;
@@ -2433,7 +2434,7 @@ (define-public wdl
 (define-public ftxui
   (package
     (name "ftxui")
-    (version "3.0.0")
+    (version "4.0.0")
     (source (origin
               (method git-fetch)
               (uri (git-reference
@@ -2441,7 +2442,7 @@ (define-public ftxui
                     (commit (string-append "v" version))))
               (sha256
                (base32
-                "10a4yw2h29kixxyhll6cvrwyscsvz9asxry857a9l8nqvbhs946s"))
+                "01h59ln8amsj6ymxmsxhmslld2yp003n82fg3mphgkrh6lf22h6y"))
               (file-name (git-file-name name version))))
     (build-system cmake-build-system)
     (native-inputs (list googletest))
@@ -2459,9 +2460,8 @@ (define-public ftxui
                    ;; Disable benchmarks for a while as they require bundled Google
                    ;; benchmark and when the 'googlebenchmark' is unbundled, there's
                    ;; a CMake configuration error.
-                   (substitute* "cmake/ftxui_benchmark.cmake"
-                     (("NOT WIN32")
-                      "FALSE")))) )))
+                   ;; TODO: fetch googlebenchmark then renable test
+                   (truncate-file "cmake/ftxui_benchmark.cmake" 0))))))
     (home-page "https://github.com/ArthurSonzogni/FTXUI")
     (synopsis "C++ Functional Terminal User Interface")
     (description
-- 
2.39.2

